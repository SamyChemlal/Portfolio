{"ast":null,"code":"import _slicedToArray from\"C:/Users/pc/Desktop/personal-portfolio/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import{Col,Row,Alert}from\"react-bootstrap\";import emailjs from'emailjs-com';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Newsletter=function Newsletter(_ref){var status=_ref.status,message=_ref.message,onValidated=_ref.onValidated;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState('Subscribe'),_useState4=_slicedToArray(_useState3,2),buttonText=_useState4[0],setButtonText=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),statusState=_useState6[0],setStatusState=_useState6[1];// Ajout du hook useState pour status\nuseEffect(function(){if(status==='success')clearFields();},[status]);var handleSubmit=function handleSubmit(e){e.preventDefault();if(email&&email.indexOf(\"@\")>-1){setButtonText(\"Sending...\");// Utilisation d'EmailJS pour envoyer l'email de confirmation à l'utilisateur\nvar emailDetails={email:email,// L'email que l'utilisateur a saisi\nmessage:'Nouvelle souscription à la newsletter!'// Message qui accompagne l'email de confirmation\n};emailjs.send('service_28hrsuj',// Remplace par ton propre service ID d'EmailJS\n'template_irqveal',// Remplace par ton template ID d'EmailJS\nemailDetails,// Les données du formulaire\n'Sdgl5ao2jkoAOC2XY'// Remplace par ton propre User ID d'EmailJS\n).then(function(result){console.log(result.text);setStatusState({success:true,message:'Successfully subscribed!'});setButtonText(\"Subscribe\");setEmail('');},function(error){console.log(error.text);setStatusState({success:false,message:'Something went wrong, please try again later.'});setButtonText(\"Subscribe\");});// Utilisation d'EmailJS pour envoyer un email de notification à l'administrateur\nvar adminEmailDetails={to_email:'your-email@example.com',// Remplace par ton propre email (adresse de l'administrateur)\nsubscriber_email:email,// Email de l'utilisateur qui s'est abonné\nmessage:'Un nouvel utilisateur s\\'est abonné à la newsletter'// Message qui accompagne l'email à l'administrateur\n};}};var clearFields=function clearFields(){setEmail('');};return/*#__PURE__*/_jsx(Col,{lg:12,children:/*#__PURE__*/_jsx(\"div\",{className:\"newsletter-bx wow slideInUp\",children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{lg:12,md:6,xl:5,children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Subscribe to our Newsletter\",/*#__PURE__*/_jsx(\"br\",{}),\" & Never miss latest updates\"]}),status==='sending'&&/*#__PURE__*/_jsx(Alert,{children:\"Sending...\"}),status==='error'&&/*#__PURE__*/_jsx(Alert,{variant:\"danger\",children:message}),status==='success'&&/*#__PURE__*/_jsx(Alert,{variant:\"success\",children:message}),statusState.message&&/*#__PURE__*/_jsx(Alert,{variant:statusState.success?\"success\":\"danger\",children:statusState.message})]}),/*#__PURE__*/_jsx(Col,{md:6,xl:7,children:/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(\"div\",{className:\"new-email-bx\",children:[/*#__PURE__*/_jsx(\"input\",{value:email,type:\"email\",onChange:function onChange(e){return setEmail(e.target.value);},placeholder:\"Email Address\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:/*#__PURE__*/_jsx(\"span\",{children:buttonText})})]})})})]})})});};","map":{"version":3,"names":["useState","useEffect","Col","Row","Alert","emailjs","Newsletter","status","message","onValidated","email","setEmail","buttonText","setButtonText","statusState","setStatusState","clearFields","handleSubmit","e","preventDefault","indexOf","emailDetails","send","then","result","console","log","text","success","error","adminEmailDetails","to_email","subscriber_email","target","value"],"sources":["C:/Users/pc/Desktop/personal-portfolio/src/components/Newsletter.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { Col, Row, Alert } from \"react-bootstrap\";\nimport emailjs from 'emailjs-com';\n\nexport const Newsletter = ({ status, message, onValidated }) => {\n  const [email, setEmail] = useState('');\n  const [buttonText, setButtonText] = useState('Subscribe');\n  const [statusState, setStatusState] = useState({});  // Ajout du hook useState pour status\n\n  useEffect(() => {\n    if (status === 'success') clearFields();\n  }, [status]);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (email && email.indexOf(\"@\") > -1) {\n      setButtonText(\"Sending...\");\n      \n      // Utilisation d'EmailJS pour envoyer l'email de confirmation à l'utilisateur\n      const emailDetails = {\n        email: email,  // L'email que l'utilisateur a saisi\n        message: 'Nouvelle souscription à la newsletter!'  // Message qui accompagne l'email de confirmation\n      };\n\n      emailjs.send(\n        'service_28hrsuj',   // Remplace par ton propre service ID d'EmailJS\n        'template_irqveal',  // Remplace par ton template ID d'EmailJS\n        emailDetails,         // Les données du formulaire\n        'Sdgl5ao2jkoAOC2XY'   // Remplace par ton propre User ID d'EmailJS\n      ).then((result) => {\n        console.log(result.text);\n        setStatusState({ success: true, message: 'Successfully subscribed!' });\n        setButtonText(\"Subscribe\");\n        setEmail('');\n      }, (error) => {\n        console.log(error.text);\n        setStatusState({ success: false, message: 'Something went wrong, please try again later.' });\n        setButtonText(\"Subscribe\");\n      });\n\n      // Utilisation d'EmailJS pour envoyer un email de notification à l'administrateur\n      const adminEmailDetails = {\n        to_email: 'your-email@example.com',  // Remplace par ton propre email (adresse de l'administrateur)\n        subscriber_email: email,  // Email de l'utilisateur qui s'est abonné\n        message: 'Un nouvel utilisateur s\\'est abonné à la newsletter'  // Message qui accompagne l'email à l'administrateur\n      };\n\n   \n    }\n  };\n\n  const clearFields = () => {\n    setEmail('');\n  };\n\n  return (\n    <Col lg={12}>\n      <div className=\"newsletter-bx wow slideInUp\">\n        <Row>\n          <Col lg={12} md={6} xl={5}>\n            <h3>Subscribe to our Newsletter<br></br> & Never miss latest updates</h3>\n            {status === 'sending' && <Alert>Sending...</Alert>}\n            {status === 'error' && <Alert variant=\"danger\">{message}</Alert>}\n            {status === 'success' && <Alert variant=\"success\">{message}</Alert>}\n            {statusState.message && <Alert variant={statusState.success ? \"success\" : \"danger\"}>{statusState.message}</Alert>}\n          </Col>\n          <Col md={6} xl={7}>\n            <form onSubmit={handleSubmit}>\n              <div className=\"new-email-bx\">\n                <input \n                  value={email} \n                  type=\"email\" \n                  onChange={(e) => setEmail(e.target.value)} \n                  placeholder=\"Email Address\" \n                />\n                <button type=\"submit\"><span>{buttonText}</span></button>\n              </div>\n            </form>\n          </Col>\n        </Row>\n      </div>\n    </Col>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}